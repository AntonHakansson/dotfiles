# First time setup

1. Grab the latest build of [[https://nixos.org/download.html#nixos-iso][NixOS]]
2. Boot into the installer
3. Do your partitions and mount your root to =/mnt=
4. src_sh[]{nix-shell -p git nixFlakes nixUnstable}
5. src_sh[]{git clone https://github.com/AntonHakansson/dotfiles /mnt/etc/nixos}
6. Install NixOS:
  #+begin_src sh
  nix build /mnt/etc/nixos#nixosConfigurations.<HOSTNAME>.config.system.build.toplevel --experimental-features "flakes nix-command" --store "/mnt" --impure
  nixos-install --root /mnt --system ./result
  #+end_src
7. Reboot!

# Rebuild system

Make sure the dotfiles are located in =~/.config/dotfiles= then from the dotfiles root directory run:

#+begin_src sh
nixos-rebuild switch --flake .#<HOSTNAME>
#+end_src

